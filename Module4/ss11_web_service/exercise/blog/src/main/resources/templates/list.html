<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<script src="../static/jquery-3.6.3.min.js"></script>
<body>
<form>
    <input id="input" type="text" placeholder="enter name search">
    <button onclick="showListAndSearch(1)" type="button" id="btn-search">Search</button>
</form>
<table border="1">

    <thead>
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Author</th>
        <th>Date Created</th>
        <th>Content</th>
    </tr>
    </thead>
    <tbody id="t-body">

    </tbody>
</table>
<button id="more" type="button">More</button>
</body>
<script>
    // showListAndSearch();

    function showListAndSearch(sizePage) {
        let searchName = "?name=" + $('#input').val();
        let sizePage1 = "&pageSize=" + sizePage;
        $.ajax({
            type: "GET",
            dataType: "json",
            url: "http://localhost:8080/api/blog" + searchName + sizePage1,
            success: function (data) {
                console.log(data)
                let content = "";
                for (let i = 0; i < data.content.length; i++) {
                    content += "<tr>";
                    content += `<td>${data.content[i].id}`;
                    content += `<td>${data.content[i].author}`;
                    content += `<td>${data.content[i].name}`;
                    content += `<td>${data.content[i].dateCreated}`;
                    content += `<td>${data.content[i].content}`;
                    content += "</tr>";
                }
                $('#t-body').html(content);
            }
        })
    }

    $(document).ready(function () {
        let sizePage = 2;
        showListAndSearch(sizePage);
        $('#more').click(function () {
            {
                sizePage++;
                console.log(sizePage);
                showListAndSearch(sizePage);
            }
        })
    })



</script>
</html>